{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/ivopascoal/Desktop/FARMBOY/HonestWorkFarms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"/Users/ivopascoal/Desktop/FARMBOY/HonestWorkFarms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/ivopascoal/Desktop/FARMBOY/HonestWorkFarms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"/Users/ivopascoal/Desktop/FARMBOY/HonestWorkFarms/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/ivopascoal/Desktop/FARMBOY/HonestWorkFarms/src/views/Pools/components/PoolCard.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  font-size: 14px;\\n  padding: 3px 0;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  height: \", \"px;\\n  width: \", \"px;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  flex-direction: row;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  margin: 16px 0;\\n  width: 100%;\\n  box-sizing: border-box;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  background-image: url('/images/pool-finished-sash.svg');\\n  background-position: top right;\\n  background-repeat: not-repeat;\\n  height: 135px;\\n  position: absolute;\\n  right: -24px;\\n  top: -24px;\\n  width: 135px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport BigNumber from 'bignumber.js';\nimport React, { useCallback, useState } from 'react';\nimport styled from 'styled-components';\nimport { Button, IconButton, useModal, AddIcon, Image } from '@pancakeswap-libs/uikit';\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\nimport UnlockButton from 'components/UnlockButton';\nimport Label from 'components/Label';\nimport { useERC20 } from 'hooks/useContract';\nimport { useSousApprove } from 'hooks/useApprove';\nimport useI18n from 'hooks/useI18n';\nimport { useSmartStake } from 'hooks/useStake';\nimport { useSmartUnstake } from 'hooks/useUnstake';\nimport useBlock from 'hooks/useBlock';\nimport { getBalanceNumber } from 'utils/formatBalance';\nimport { useSmartChefHarvest } from 'hooks/useHarvest';\nimport Balance from 'components/Balance';\nimport { QuoteToken, PoolCategory } from 'config/constants/types';\nimport DepositModal from './DepositModal';\nimport WithdrawModal from './WithdrawModal';\nimport CardTitle from './CardTitle';\nimport Card from './Card';\nimport OldSyrupTitle from './OldSyrupTitle';\nimport HarvestButton from './HarvestButton';\nimport CardFooter from './CardFooter';\nvar CHAIN_ID = process.env.REACT_APP_CHAIN_ID;\n\nvar PoolCard = function PoolCard(_ref) {\n  _s();\n\n  var pool = _ref.pool;\n  var sousId = pool.sousId,\n      image = pool.image,\n      tokenName = pool.tokenName,\n      stakingTokenName = pool.stakingTokenName,\n      stakingTokenAddress = pool.stakingTokenAddress,\n      projectLink = pool.projectLink,\n      harvest = pool.harvest,\n      apy = pool.apy,\n      tokenDecimals = pool.tokenDecimals,\n      poolCategory = pool.poolCategory,\n      totalStaked = pool.totalStaked,\n      startBlock = pool.startBlock,\n      endBlock = pool.endBlock,\n      isFinished = pool.isFinished,\n      userData = pool.userData,\n      stakingLimit = pool.stakingLimit,\n      burnFee = pool.burnFee,\n      weeklyroi = pool.weeklyroi;\n  console.log(\"burnFee\", burnFee); // Pools using native BNB behave differently than pools using a token\n\n  var isBnbPool = poolCategory === PoolCategory.BINANCE;\n  var TranslateString = useI18n();\n  var stakingTokenContract = useERC20(stakingTokenAddress[CHAIN_ID]);\n\n  var _useWallet = useWallet(),\n      account = _useWallet.account;\n\n  var block = useBlock();\n\n  var _useSousApprove = useSousApprove(stakingTokenContract, sousId),\n      onApprove = _useSousApprove.onApprove;\n\n  var _useSmartStake = useSmartStake(sousId, isBnbPool),\n      onStake = _useSmartStake.onStake;\n\n  var _useSmartUnstake = useSmartUnstake(sousId),\n      onUnstake = _useSmartUnstake.onUnstake;\n\n  var _useSmartChefHarvest = useSmartChefHarvest(sousId, isBnbPool),\n      onReward = _useSmartChefHarvest.onReward;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      requestedApproval = _useState2[0],\n      setRequestedApproval = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pendingTx = _useState4[0],\n      setPendingTx = _useState4[1];\n\n  var allowance = new BigNumber((userData === null || userData === void 0 ? void 0 : userData.allowance) || 0);\n  var stakingTokenBalance = new BigNumber((userData === null || userData === void 0 ? void 0 : userData.stakingTokenBalance) || 0);\n  var stakedBalance = new BigNumber((userData === null || userData === void 0 ? void 0 : userData.stakedBalance) || 0);\n  var earnings = new BigNumber((userData === null || userData === void 0 ? void 0 : userData.pendingReward) || 0);\n  var blocksUntilStart = Math.max(startBlock - block, 0);\n  var blocksRemaining = Math.max(endBlock - block, 0);\n  var isOldSyrup = stakingTokenName === QuoteToken.SYRUP;\n  var accountHasStakedBalance = (stakedBalance === null || stakedBalance === void 0 ? void 0 : stakedBalance.toNumber()) > 0;\n  var needsApproval = !accountHasStakedBalance && !allowance.toNumber() && !isBnbPool;\n  var isCardActive = isFinished && accountHasStakedBalance;\n  var convertedLimit = new BigNumber(stakingLimit).multipliedBy(new BigNumber(10).pow(tokenDecimals));\n\n  var _useModal = useModal( /*#__PURE__*/_jsxDEV(DepositModal, {\n    max: stakingLimit && stakingTokenBalance.isGreaterThan(convertedLimit) ? convertedLimit : stakingTokenBalance,\n    onConfirm: onStake,\n    tokenName: stakingLimit ? \"\".concat(stakingTokenName, \" (\").concat(stakingLimit, \" max)\") : stakingTokenName,\n    burnFeeBP: burnFee * 10\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, _this)),\n      _useModal2 = _slicedToArray(_useModal, 1),\n      onPresentDeposit = _useModal2[0];\n\n  var _useModal3 = useModal( /*#__PURE__*/_jsxDEV(WithdrawModal, {\n    max: stakedBalance,\n    onConfirm: onUnstake,\n    tokenName: stakingTokenName\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, _this)),\n      _useModal4 = _slicedToArray(_useModal3, 1),\n      onPresentWithdraw = _useModal4[0];\n\n  var handleApprove = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var txHash;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            setRequestedApproval(true);\n            _context.next = 4;\n            return onApprove();\n\n          case 4:\n            txHash = _context.sent;\n\n            // user rejected tx or didn't go thru\n            if (!txHash) {\n              setRequestedApproval(false);\n            }\n\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 8]]);\n  })), [onApprove, setRequestedApproval]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    isActive: isCardActive,\n    isFinished: isFinished,\n    children: [isFinished && /*#__PURE__*/_jsxDEV(PoolFinishedSash, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 22\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '24px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n        isFinished: isFinished,\n        children: [isOldSyrup && '[OLD]', \" \", tokenName, \" \", TranslateString(348, 'Pool')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '8px',\n          display: 'flex',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: \"/images/bnbpool/\".concat(tokenName, \".png\"),\n            width: 64,\n            height: 64,\n            alt: tokenName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, _this), account && harvest && !isOldSyrup && /*#__PURE__*/_jsxDEV(HarvestButton, {\n          disabled: !earnings.toNumber() || pendingTx,\n          text: pendingTx ? 'Collecting' : 'Harvest',\n          onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    setPendingTx(true);\n                    _context2.next = 3;\n                    return onReward();\n\n                  case 3:\n                    setPendingTx(false);\n\n                  case 4:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, _this), !isOldSyrup ? /*#__PURE__*/_jsxDEV(BalanceAndCompound, {\n        children: /*#__PURE__*/_jsxDEV(Balance, {\n          value: getBalanceNumber(earnings, tokenDecimals),\n          decimals: tokenName === 'BTCB' ? 5 : 3,\n          isDisabled: isFinished\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, _this) : /*#__PURE__*/_jsxDEV(OldSyrupTitle, {\n        hasBalance: accountHasStakedBalance\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Label, {\n        isFinished: isFinished,\n        text: TranslateString(330, \"\".concat(tokenName, \" earned\"))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(StyledCardActions, {\n        children: [!account && /*#__PURE__*/_jsxDEV(UnlockButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 24\n        }, _this), account && (needsApproval && !isOldSyrup ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disabled: isFinished || requestedApproval,\n            onClick: handleApprove,\n            fullWidth: true,\n            children: \"Approve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 17\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }, _this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            disabled: stakedBalance.eq(new BigNumber(0)) || pendingTx,\n            onClick: isOldSyrup ? /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n              return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                while (1) {\n                  switch (_context3.prev = _context3.next) {\n                    case 0:\n                      setPendingTx(true);\n                      _context3.next = 3;\n                      return onUnstake('0');\n\n                    case 3:\n                      setPendingTx(false);\n\n                    case 4:\n                    case \"end\":\n                      return _context3.stop();\n                  }\n                }\n              }, _callee3);\n            })) : onPresentWithdraw,\n            children: \"Unstake \".concat(stakingTokenName)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(StyledActionSpacer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 17\n          }, _this), !isOldSyrup && /*#__PURE__*/_jsxDEV(IconButton, {\n            disabled: isFinished,\n            onClick: onPresentDeposit,\n            children: /*#__PURE__*/_jsxDEV(AddIcon, {\n              color: \"background\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 21\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 19\n          }, _this)]\n        }, void 0, true))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(StyledDetails, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: \"Weekly ROI:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, _this), weeklyroi]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(StyledDetails, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": stakingTokenName,\n            children: [\"\\uD83D\\uDC18 \", ' ']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, _this), \"Your Stake:\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Balance, {\n          fontSize: \"14px\",\n          isDisabled: isFinished,\n          value: getBalanceNumber(stakedBalance)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, _this), burnFee > 0 ? /*#__PURE__*/_jsxDEV(StyledDetails, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": stakingTokenName,\n            children: [\"\\uD83D\\uDD25\", ' ']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, _this), \"Deposit fee (Burned):\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(Balance, {\n          fontSize: \"14px\",\n          isDisabled: isFinished,\n          value: burnFee / 10,\n          decimals: 1,\n          unit: \"%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, _this) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(CardFooter, {\n      projectLink: projectLink,\n      totalStaked: totalStaked,\n      blocksRemaining: blocksRemaining,\n      isFinished: isFinished,\n      blocksUntilStart: blocksUntilStart,\n      poolCategory: poolCategory,\n      unit: \"blocks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(PoolCard, \"Pp4QJ7dLC+A1qSM5GYq3t+ebbbQ=\", false, function () {\n  return [useI18n, useERC20, useWallet, useBlock, useSousApprove, useSmartStake, useSmartUnstake, useSmartChefHarvest, useModal, useModal];\n});\n\n_c = PoolCard;\nvar PoolFinishedSash = styled.div(_templateObject());\n_c2 = PoolFinishedSash;\nvar StyledCardActions = styled.div(_templateObject2());\n_c3 = StyledCardActions;\nvar BalanceAndCompound = styled.div(_templateObject3());\n_c4 = BalanceAndCompound;\nvar StyledActionSpacer = styled.div(_templateObject4(), function (props) {\n  return props.theme.spacing[4];\n}, function (props) {\n  return props.theme.spacing[4];\n});\n_c5 = StyledActionSpacer;\nvar StyledDetails = styled.div(_templateObject5());\n_c6 = StyledDetails;\nexport default PoolCard;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"PoolCard\");\n$RefreshReg$(_c2, \"PoolFinishedSash\");\n$RefreshReg$(_c3, \"StyledCardActions\");\n$RefreshReg$(_c4, \"BalanceAndCompound\");\n$RefreshReg$(_c5, \"StyledActionSpacer\");\n$RefreshReg$(_c6, \"StyledDetails\");","map":{"version":3,"sources":["/Users/ivopascoal/Desktop/FARMBOY/HonestWorkFarms/src/views/Pools/components/PoolCard.tsx"],"names":["BigNumber","React","useCallback","useState","styled","Button","IconButton","useModal","AddIcon","Image","useWallet","UnlockButton","Label","useERC20","useSousApprove","useI18n","useSmartStake","useSmartUnstake","useBlock","getBalanceNumber","useSmartChefHarvest","Balance","QuoteToken","PoolCategory","DepositModal","WithdrawModal","CardTitle","Card","OldSyrupTitle","HarvestButton","CardFooter","CHAIN_ID","process","env","REACT_APP_CHAIN_ID","PoolCard","pool","sousId","image","tokenName","stakingTokenName","stakingTokenAddress","projectLink","harvest","apy","tokenDecimals","poolCategory","totalStaked","startBlock","endBlock","isFinished","userData","stakingLimit","burnFee","weeklyroi","console","log","isBnbPool","BINANCE","TranslateString","stakingTokenContract","account","block","onApprove","onStake","onUnstake","onReward","requestedApproval","setRequestedApproval","pendingTx","setPendingTx","allowance","stakingTokenBalance","stakedBalance","earnings","pendingReward","blocksUntilStart","Math","max","blocksRemaining","isOldSyrup","SYRUP","accountHasStakedBalance","toNumber","needsApproval","isCardActive","convertedLimit","multipliedBy","pow","isGreaterThan","onPresentDeposit","onPresentWithdraw","handleApprove","txHash","error","padding","marginBottom","display","alignItems","flex","eq","PoolFinishedSash","div","StyledCardActions","BalanceAndCompound","StyledActionSpacer","props","theme","spacing","StyledDetails"],"mappings":"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","sourcesContent":["import BigNumber from 'bignumber.js'\nimport React, { useCallback, useState } from 'react'\nimport styled from 'styled-components'\nimport { Button, IconButton, useModal, AddIcon, Image } from '@pancakeswap-libs/uikit'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport UnlockButton from 'components/UnlockButton'\nimport Label from 'components/Label'\nimport { useERC20 } from 'hooks/useContract'\nimport { useSousApprove } from 'hooks/useApprove'\nimport useI18n from 'hooks/useI18n'\nimport { useSmartStake } from 'hooks/useStake'\nimport { useSmartUnstake } from 'hooks/useUnstake'\nimport useBlock from 'hooks/useBlock'\nimport { getBalanceNumber } from 'utils/formatBalance'\nimport { useSmartChefHarvest } from 'hooks/useHarvest'\nimport Balance from 'components/Balance'\nimport { QuoteToken, PoolCategory } from 'config/constants/types'\nimport { Pool } from 'state/types'\nimport DepositModal from './DepositModal'\nimport WithdrawModal from './WithdrawModal'\nimport CardTitle from './CardTitle'\nimport Card from './Card'\nimport OldSyrupTitle from './OldSyrupTitle'\nimport HarvestButton from './HarvestButton'\nimport CardFooter from './CardFooter'\n\nconst CHAIN_ID = process.env.REACT_APP_CHAIN_ID\n\ninterface PoolWithApy extends Pool {\n  apy: BigNumber\n}\n\ninterface HarvestProps {\n  pool: PoolWithApy\n}\n\nconst PoolCard: React.FC<HarvestProps> = ({ pool }) => {\n  const {\n    sousId,\n    image,\n    tokenName,\n    stakingTokenName,\n    stakingTokenAddress,\n    projectLink,\n    harvest,\n    apy,\n    tokenDecimals,\n    poolCategory,\n    totalStaked,\n    startBlock,\n    endBlock,\n    isFinished,\n    userData,\n    stakingLimit,\n    burnFee,\n    weeklyroi\n  } = pool\n\n  console.log(\"burnFee\",burnFee)\n  // Pools using native BNB behave differently than pools using a token\n  const isBnbPool = poolCategory === PoolCategory.BINANCE\n  const TranslateString = useI18n()\n  const stakingTokenContract = useERC20(stakingTokenAddress[CHAIN_ID])\n  const { account } = useWallet()\n  const block = useBlock()\n  const { onApprove } = useSousApprove(stakingTokenContract, sousId)\n  const { onStake } = useSmartStake(sousId, isBnbPool)\n  const { onUnstake } = useSmartUnstake(sousId)\n  const { onReward } = useSmartChefHarvest(sousId, isBnbPool)\n\n  const [requestedApproval, setRequestedApproval] = useState(false)\n  const [pendingTx, setPendingTx] = useState(false)\n\n  const allowance = new BigNumber(userData?.allowance || 0)\n  const stakingTokenBalance = new BigNumber(userData?.stakingTokenBalance || 0)\n  const stakedBalance = new BigNumber(userData?.stakedBalance || 0)\n  const earnings = new BigNumber(userData?.pendingReward || 0)\n\n  const blocksUntilStart = Math.max(startBlock - block, 0)\n  const blocksRemaining = Math.max(endBlock - block, 0)\n  const isOldSyrup = stakingTokenName === QuoteToken.SYRUP\n  const accountHasStakedBalance = stakedBalance?.toNumber() > 0\n  const needsApproval = !accountHasStakedBalance && !allowance.toNumber() && !isBnbPool\n  const isCardActive = isFinished && accountHasStakedBalance\n\n  const convertedLimit = new BigNumber(stakingLimit).multipliedBy(new BigNumber(10).pow(tokenDecimals))\n  const [onPresentDeposit] = useModal(\n    <DepositModal\n      max={stakingLimit && stakingTokenBalance.isGreaterThan(convertedLimit) ? convertedLimit : stakingTokenBalance}\n      onConfirm={onStake}\n      tokenName={stakingLimit ? `${stakingTokenName} (${stakingLimit} max)` : stakingTokenName}\n      burnFeeBP={burnFee * 10}\n    />,\n  )\n\n  const [onPresentWithdraw] = useModal(\n    <WithdrawModal max={stakedBalance} onConfirm={onUnstake} tokenName={stakingTokenName} />,\n  )\n\n  const handleApprove = useCallback(async () => {\n    try {\n      setRequestedApproval(true)\n      const txHash = await onApprove()\n      // user rejected tx or didn't go thru\n      if (!txHash) {\n        setRequestedApproval(false)\n      }\n    } catch (e) {\n      console.error(e)\n    }\n  }, [onApprove, setRequestedApproval])\n\n  return (\n    <Card isActive={isCardActive} isFinished={isFinished}>\n      {isFinished && <PoolFinishedSash />}\n      <div style={{ padding: '24px' }}>\n        <CardTitle isFinished={isFinished}>\n          {isOldSyrup && '[OLD]'} {tokenName} {TranslateString(348, 'Pool')}\n        </CardTitle>\n        <div style={{ marginBottom: '8px', display: 'flex', alignItems: 'center' }}>\n          <div style={{ flex: 1 }}>\n            <Image src={`/images/bnbpool/${tokenName}.png`} width={64} height={64} alt={tokenName} />\n          </div>\n          {account && harvest && !isOldSyrup && (\n            <HarvestButton\n              disabled={!earnings.toNumber() || pendingTx}\n              text={pendingTx ? 'Collecting' : 'Harvest'}\n              onClick={async () => {\n                setPendingTx(true)\n                await onReward()\n                setPendingTx(false)\n              }}\n            />\n          )}\n        </div>\n        {!isOldSyrup ? (\n          <BalanceAndCompound>\n            <Balance\n              value={getBalanceNumber(earnings, tokenDecimals)}\n              decimals={tokenName === 'BTCB' ? 5 : 3}\n              isDisabled={isFinished}\n            />\n          </BalanceAndCompound>\n        ) : (\n          <OldSyrupTitle hasBalance={accountHasStakedBalance} />\n        )}\n        <Label isFinished={isFinished} text={TranslateString(330, `${tokenName} earned`)} />\n        <StyledCardActions>\n          {!account && <UnlockButton />}\n          {account &&\n            (needsApproval && !isOldSyrup ? (\n              <div style={{ flex: 1 }}>\n                <Button disabled={isFinished || requestedApproval} onClick={handleApprove} fullWidth>\n                  Approve\n                </Button>\n              </div>\n            ) : (\n              <>\n                <Button\n                  disabled={stakedBalance.eq(new BigNumber(0)) || pendingTx}\n                  onClick={\n                    isOldSyrup\n                      ? async () => {\n                          setPendingTx(true)\n                          await onUnstake('0')\n                          setPendingTx(false)\n                        }\n                      : onPresentWithdraw\n                  }\n                >\n                  {`Unstake ${stakingTokenName}`}\n                </Button>\n                <StyledActionSpacer />\n                {!isOldSyrup && (\n                  <IconButton disabled={isFinished} onClick={onPresentDeposit}>\n                    <AddIcon color=\"background\" />\n                  </IconButton>\n                )}\n              </>\n            ))}\n        </StyledCardActions>\n        <StyledDetails>\n          <div style={{ flex: 1 }}>Weekly ROI:</div>\n          {weeklyroi}\n        </StyledDetails>\n        <StyledDetails>\n          <div style={{ flex: 1 }}>\n            <span role=\"img\" aria-label={stakingTokenName}>\n              🐘 {' '}\n            </span>\n            Your Stake:\n          </div>\n          <Balance fontSize=\"14px\" isDisabled={isFinished} value={getBalanceNumber(stakedBalance)} />\n        </StyledDetails>\n        {burnFee > 0 ? (\n          <StyledDetails>\n            <div style={{ flex: 1 }}>\n              <span role=\"img\" aria-label={stakingTokenName}>\n                🔥{' '}\n              </span>\n              Deposit fee (Burned):\n            </div>\n            <Balance fontSize=\"14px\" isDisabled={isFinished} value={burnFee / 10} decimals={1} unit=\"%\" />\n          </StyledDetails>\n        ) : (\n          ''\n        )}\n      </div>\n      <CardFooter\n        projectLink={projectLink}\n        totalStaked={totalStaked}\n        blocksRemaining={blocksRemaining}\n        isFinished={isFinished}\n        blocksUntilStart={blocksUntilStart}\n        poolCategory={poolCategory}\n        unit=\"blocks\"\n      />\n    </Card>\n  )\n}\n\nconst PoolFinishedSash = styled.div`\n  background-image: url('/images/pool-finished-sash.svg');\n  background-position: top right;\n  background-repeat: not-repeat;\n  height: 135px;\n  position: absolute;\n  right: -24px;\n  top: -24px;\n  width: 135px;\n`\n\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin: 16px 0;\n  width: 100%;\n  box-sizing: border-box;\n`\n\nconst BalanceAndCompound = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n`\n\nconst StyledActionSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`\n\nconst StyledDetails = styled.div`\n  display: flex;\n  font-size: 14px;\n  padding: 3px 0;\n`\n\nexport default PoolCard\n"]},"metadata":{},"sourceType":"module"}